# Structures

А вот теперь мы всё больше приближаемся к миру промышленной разработки, мой юний инженер. Сегодня мы поговорим об моделировании т.е. о представлении (переносе) объектов реального мира в наш цифровой мир. И для такого представления - отражения объектов реального мира в нашем коде есть struct (структура). struct (структура, объект) - представляет собой агрегатный агрегированный тип данных, объединяющий ноль или более именованных значений произвольных типов в единое целое. Каждое значение называется полем. По сути представляет собой контейнер для хранения разнотипных значений, в отличие от массива (array), slice, map - которые могут хранить только однотипные значения.

### I.a Declaration

```go
type Name struct {
 some string
 // fields...
}
```

И другое отличие struct это то что структура это и агрегатный тип данных и собственный тип, будет являться уникальным типом которое определил разработчик (так как мы использовали word key -> type, если помнишь я тебе рассказывал про кастомные типы).

**Example:**

```go
type User struct {
 ID int
 Name string
 Surname string
 Age uint
 Balance float64
 Phones []string
}

var Alexander User // this, custom type 

```

Как видишь, они в отличие от массива, слайса, и мап могут агрегировать (хранить) в себя разнотипные значения,
и каждое такое значение - элемент структуры называется полем структуры (поле ID, поле Name, поле Surname etc.).
Повторюсь, с помощью struct мы можем отобразить объект из реального мира в нашем коде, создать цифровую модель условного
юзера как выше, и манипулировать его цифровым представлением в коде. Это и есть моделирование в программировании.

### I.b Initialization

**Initialization:**

```go
// Declaration
type User struct {
 ID int
 Name string
 Surname string
 Age uint
}

// Explicit initialization
 user := User{
 Name: "Daniil",
 Surname: "Giga Developer",
 Age: 23,
}
```

**Инициализация:**

1. Явное (Explicit): Присвоения значений происходит по ключ значение, как у map т.е поле: значение.  Это явная инициализация когда мы явно каждому присваиваем значения, поле: значение. Выше представлений пример. Важно, те поля которые мы не присваиваем значение явно, будут иметь zero value т.е для поля с типом строка " ", для поля с типом int = 0, etc.
2. Не явное (Implicit), путём перечисления полей структуры при инициализации.

```go
// Declaration
type User struct {
 Name string
 Age int
 Phone string
}

// Implicit Initial
user := User{"Giga Dev", 23, "+123456789"}

```

Как показано в примере при не явном мы перечисляем обязательно поля по порядку, иначе компилятор выдаст ошибку.
Я сам предпочитаю явное.

### II. Working with struct fields

Воспринимай поля структуры как обычные переменные, потому что работа и взаимодействие ни чем не отличаются.

**Examples:**

```go
// Decl.
type Car struct {
 brand string
 name string
 color string
 engine float64
}

// Init
x10 := Car{ // есть ли такая модель ?)
 brand: "BMW",
 name: "x10",
 color: "white",
 engine: 10.0 // выдуманный пример, не цепляйся )
}

// reassign field
x10.color = "Gray"
x10.engine = 6.0

```

Взаимодействие с полями структуры происходит через точку (.), т.е. если хотим манипулировать как то определенное поле
структуры, то вызываем - обращаемся к структуре полем которого он является, и указываем его после точки:

```go

// Decl
type User struct {
 name string
 surname string
 age int
}

// Init
user := User{
 name: "John",
 surname: "Anderson",
 age: 23,
}

// Reassign
user.name = "Daniil"

// Print user info
fmt.Println(user.name, user.surname, user.age)

//etc.

```

### III. Struct slice

Также структура может быть слайсом структур. И это будет полноценный слайс с индексом, элементами только вместо
примитивных типов агрегатный тип struct

**Example**

```go
type User struct {
 Name string
 Age int
}

// struct slice
users := []User{
 {
  Name: "User 1",
  Age: 23,
 },
 {
  Name: "User 2",
  Age: 25,
 },
 {
  Name: "User 3",
  Age: 27,
 },
}
```

**И можем взаимодействовать со слайсом структуры как с обычным слайсом, можем перебрать его, пример:**

```go

type User struct {
 Name string
 Age  int
}

users := []User{
 {
  Name: "User 1",
  Age:  23,
 },
 {
  Name: "User 2",
  Age:  25,
 },
 {
  Name: "User 3",
  Age:  27,
 },
}

// Можем перебирать как массив поэлементно и изменят поля элемента слайса структуры (отдельной структуры в массиве)
for i, user := range users {
 user.Name = "Another name" // переназначаем значение отдельной структуры если нам нужна данная операция
 user.Age = 25

 fmt.Printf("User, index: %d name: %s age: %d", i, user.Name, user.Age)
}
```
